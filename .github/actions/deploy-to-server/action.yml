name: Deploy to Server
description: Uses a FE build to make a deploy to a specific server


inputs:
  namespace:
    description: "Which server we want to deploy to? Valid options are: 'test', 'stage', 'prod'"
    required: true
    default: test

  namespace2:
    description: "Which server we want to deploy to? Valid options are: 'test', 'stage', 'prod'"
    required: true
    default: test

  shellClient:
    description: Which shell client to use ?
    required: true
    default: 12


runs:
  using: composite
  steps:
    - name: Validate input
      if: inputs.namespace != 'test' && inputs.namespace != 'stage' && inputs.namespace != 'prod'
      shell: bash
      run: |
        echo "Invalid 'namespace' = '${{ inputs.namespace }}'"
        echo "Valid namespace options are:"
        echo "  test"
        echo "  stage"
        echo "  prod"
        exit 1

    - shell: bash
      run: echo "shellClient: ${{ inputs.namespace2 }}"

    - name: Deploy
      shell: bash
      run: echo "Deploy to namespace: ${{ inputs.namespace }}"
